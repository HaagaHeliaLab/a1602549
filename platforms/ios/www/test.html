<html>
<head>
	<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
	<meta name="format-detection" content="telephone=no">
	<meta name="msapplication-tap-highlight" content="no">
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
	<title>Welcome to iNails</title>
	<link rel="stylesheet" href="css/themes/iNails.min.css" />
	<link rel="stylesheet" href="css/themes/jquery.mobile.icons.min.css" />
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css" />
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="js/jquery/jquery.mobile-1.4.5.min.js"></script>
</head>
<body>
	<div data-role="page" data-theme="a" id="home">
		<div data-role="header" data-grid="b">
			<ul data-position="inline">
				   <li data-position="center"><a class="ui-shadow ui-btn ui-corner-all ui-icon-bullets ui-btn-icon-notext ui-btn-inline">Button</a></li>
				   <li data-position="center"><a href="#home" class="ui-shadow ui-btn ui-corner-all ui-icon-home ui-btn-icon-notext ui-btn-inline">Button</a></li>
				   <li data-position="center"><a class="ui-shadow ui-btn ui-corner-all ui-icon-gear ui-btn-icon-notext ui-btn-inline">Button</a></li>
			</ul>
		</div>
		<div data-role="content" data-theme="a">
			<button class="ui-bar-a"><a href="#reservation">Reservation</a></button>
			<button class="ui-bar-a"><a href="#tracking">Tracking</a></button>
			<button class="ui-bar-a"><a href="#setting">Setting</a></button>
		</div>
		<div data-role="footer">
			<h5>Copyright©inails.fi 2017</h5>
		</div>
	</div>
	<!-- Reservation page -->
    <div data-role="page" data-theme="a" id="reservation">
		<div data-role="header" data-position="inline">
			<div class="ui-grid-b">
				<div class="ui-block-a center"><a class="ui-shadow ui-btn ui-corner-all ui-icon-bullets ui-btn-icon-notext ui-btn-inline">Button</a></div>
				<div class="ui-block-b"><a href="#home" class="ui-shadow ui-btn ui-corner-all ui-icon-home ui-btn-icon-notext ui-btn-inline">Button</a></div>
				<div class="ui-block-c"><a class="ui-shadow ui-btn ui-corner-all ui-icon-gear ui-btn-icon-notext ui-btn-inline">Button</a></div>
			</div>
		</div>
		<div data-role="footer">
			<h5>Copyright©inails.fi 2017</h5>
		</div>
	</div>

	<!-- Tracking page -->
	<div data-role="page" data-theme="a" id="tracking">
		<div data-role="header">
			<div class="ui-grid-b center" data-position="inline">
				<div class="ui-block-a"><a class="ui-shadow ui-btn ui-corner-all ui-icon-bullets ui-btn-icon-notext ui-btn-inline">Button</a></div>
				<div class="ui-block-b"><a href="#home" class="ui-shadow ui-btn ui-corner-all ui-icon-home ui-btn-icon-notext ui-btn-inline">Button</a></div>
				<div class="ui-block-c"><a class="ui-shadow ui-btn ui-corner-all ui-icon-gear ui-btn-icon-notext ui-btn-inline">Button</a></div>
			</div>
		</div>
        <div data-role="content" data-theme="a">
			<div class="ui-grid-a" data-position="group">
					<input type="search" name="order-number" placeholder="Enter your order number"/>
					<input type="button" name="trackBtn" value="Track" />
			</div>

		</div>
		<div data-role="footer">
			<h5>Copyright©inails.fi 2017</h5>
		</div>
	</div>

	<!-- Setting page-->
	<div data-role="page" data-theme="a" id="setting">
		<div data-role="header" data-position="inline">
			<div class="ui-grid-b">
				<div class="ui-block-a"><a class="ui-shadow ui-btn ui-corner-all ui-icon-bullets ui-btn-icon-notext ui-btn-inline">Button</a></div>
				<div class="ui-block-b"><a href="#home" class="ui-shadow ui-btn ui-corner-all ui-icon-home ui-btn-icon-notext ui-btn-inline">Button</a></div>
				<div class="ui-block-c"><a class="ui-shadow ui-btn ui-corner-all ui-icon-gear ui-btn-icon-notext ui-btn-inline">Button</a></div>
			</div>
		</div>
		<div data-role="footer">
			<h5>Copyright©inails.fi 2017</h5>
		</div>
	</div>

<script src="js/yql.js"></script>
</body>
<script>
/*Fetch order details from API by order number*/
var getOrderDetails = function(orderNumber){
	return $.ajax({
      url:"https://inailsapi.herokuapp.com/rest/api/invoices/"+orderNumber,
	  method:"GET",
		contentType: "application/json",
	  dataType:"json",
	  timeout: "10000",
	  crossDomain: true,
      error: function (xhr) {
		  alert("Error function is running "+ xhr.statusText);
      }
	});
};

/*Show order details details by given order number*/
$(":input[name='trackBtn']").on("click", function(){
    var orderNumber = $(':input[name="order-number"]').val();
	getOrderDetails(orderNumber).success(function(data){
        var jsonInvoice = JSON.stringify(data);
        alert(data);
        alert(jsonInvoice[services]);
	});
})
</script>
</html>